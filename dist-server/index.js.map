{"version":3,"sources":["../src/ThemeContext.js","../src/Carousel.js","../src/ErrorBoundary.js","../src/Modal.js","../src/Details.js","../src/useBreedList.js","../src/Pet.js","../src/Results.js","../src/SearchParams.js","../src/App.js","index.js"],"names":["ThemeContext","Carousel","Component","active","event","setState","target","dataset","index","render","state","images","props","map","photo","handleIndexClick","ErrorBoundary","hasError","getDerivedStateFromError","redirect","componentDidCatch","error","info","console","componentDidUpdate","setTimeout","children","Modal","modalRoot","document","getElementById","elRef","current","createElement","appendChild","removeChild","Details","loading","showModal","window","location","componentDidMount","res","fetch","match","params","id","json","Object","assign","pets","animal","breed","city","description","name","theme","toggleModal","backgroundColor","adopt","DetailsWithRouter","DetailsErrorBoundary","localCache","useBreedList","breedList","setBreedList","status","setStatus","requestBreedList","breeds","Pet","hero","length","Results","pet","SearchParams","ANIMALS","updateAnimal","updateLocation","updateBreed","setPets","setTheme","requestPets","e","preventDefault","value","App","PORT","process","env","html","fs","readFileSync","toString","parts","split","app","use","express","static","req","write","staticContext","reactMarkup","url","stream","pipe","end","on","staticCode","log","listen"],"mappings":"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","file":"index.js","sourceRoot":"../server","sourcesContent":["import { createContext } from \"react\";\n\nconst ThemeContext = createContext([\"green\", () => {}]);\n\nexport default ThemeContext;\n","import { Component } from \"react\";\n\nclass Carousel extends Component {\n  state = {\n    active: 0,\n  };\n\n  static defaultProps = {\n    images: [\"http://pets-images.dev-apis.com/pets/none.jpg\"],\n  };\n\n  handleIndexClick = (event) => {\n    this.setState({\n      active: +event.target.dataset.index,\n    });\n  };\n\n  render() {\n    const { active } = this.state;\n    const { images } = this.props;\n    return (\n      <div className=\"carousel\">\n        <img src={images[active]} alt=\"animal\" />\n        <div className=\"carousel-smaller\">\n          {images.map((photo, index) => (\n            // eslint-disable-next-line\n            <img\n              key={photo}\n              src={photo}\n              onClick={this.handleIndexClick}\n              data-index={index}\n              className={index === active ? \"active\" : \"\"}\n              alt=\"animal thumbnail\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n","// mostly code from reactjs.org/docs/error-boundaries.html\nimport { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass ErrorBoundary extends Component {\n  state = { hasError: false };\n  static getDerivedStateFromError() {\n    return { hasError: true, redirect: false };\n  }\n  componentDidCatch(error, info) {\n    console.error(\"ErrorBoundary caught an error\", error, info);\n  }\n  componentDidUpdate() {\n    if (this.state.hasError) {\n      setTimeout(() => this.setState({ redirect: true }), 5000);\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to=\"/\" />;\n    } else if (this.state.hasError) {\n      return (\n        <h2>\n          There was an error with this listing. <Link to=\"/\">Click here</Link>{\" \"}\n          to back to the home page or wait five seconds.\n        </h2>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import { useEffect, useRef } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nlet modalRoot;\n\nconst Modal = ({ children }) => {\n  modalRoot = modalRoot ? modalRoot : document.getElementById(\"modal\");\n\n  const elRef = useRef(null);\n  if (!elRef.current) {\n    elRef.current = document.createElement(\"div\");\n  }\n\n  useEffect(() => {\n    modalRoot.appendChild(elRef.current);\n    return () => modalRoot.removeChild(elRef.current);\n  }, []);\n\n  return createPortal(<div>{children}</div>, elRef.current);\n};\n\nexport default Modal;\n","import { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport ThemeContext from \"./ThemeContext\";\nimport Carousel from \"./Carousel\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport Modal from \"./Modal\";\n\nclass Details extends Component {\n  state = { loading: true, showModal: false };\n\n  async componentDidMount() {\n    const res = await fetch(\n      `http://pets-v2.dev-apis.com/pets?id=${this.props.match.params.id}`\n    );\n    const json = await res.json();\n    this.setState(Object.assign({ loading: false }, json.pets[0]));\n  }\n\n  toggleModal = () => this.setState({ showModal: !this.state.showModal });\n\n  adopt = () => (window.location = \"http://bit.ly/pet-adopt\");\n\n  render() {\n    if (this.state.loading) {\n      return <h2>loading … </h2>;\n    }\n\n    const {\n      animal,\n      breed,\n      city,\n      state,\n      description,\n      name,\n      images,\n      showModal,\n    } = this.state;\n\n    return (\n      <div className=\"details\">\n        <Carousel images={images} />\n        <div>\n          <h1>{name}</h1>\n          <h2>{`${animal} — ${breed} — ${city}, ${state}`}</h2>\n          <ThemeContext.Consumer>\n            {([theme]) => (\n              <button\n                onClick={this.toggleModal}\n                style={{ backgroundColor: theme }}\n              >\n                Adopt {name}\n              </button>\n            )}\n          </ThemeContext.Consumer>\n          <p>{description}</p>\n          {showModal ? (\n            <Modal>\n              <div>\n                <h1>Would you like to adopt {name}?</h1>\n                <div className=\"buttons\">\n                  <button onClick={this.adopt}>Yes</button>\n                  <button onClick={this.toggleModal}>No</button>\n                </div>\n              </div>\n            </Modal>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst DetailsWithRouter = withRouter(Details);\n\nexport default function DetailsErrorBoundary(props) {\n  return (\n    <ErrorBoundary>\n      <DetailsWithRouter {...props} />\n    </ErrorBoundary>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nconst localCache = {};\n\nexport default function useBreedList(animal) {\n  const [breedList, setBreedList] = useState([]);\n  const [status, setStatus] = useState(\"unloaded\");\n\n  useEffect(() => {\n    if (!animal) {\n      setBreedList([]);\n    } else if (localCache[animal]) {\n      setBreedList(localCache[animal]);\n    } else {\n      requestBreedList();\n    }\n\n    async function requestBreedList() {\n      setBreedList([]);\n      setStatus(\"loading\");\n      const res = await fetch(\n        `http://pets-v2.dev-apis.com/breeds?animal=${animal}`\n      );\n      const json = await res.json();\n      localCache[animal] = json.breeds || [];\n      setBreedList(localCache[animal]);\n      setStatus(\"loaded\");\n    }\n  }, [animal]);\n\n  return [breedList, status];\n}\n","import { Link } from \"react-router-dom\";\n\nconst Pet = (props) => {\n  const { name, animal, breed, images, location, id } = props;\n\n  let hero = \"http://pets-images.dev-apis.com/pets/none.jpg\";\n  if (images.length) {\n    hero = images[0];\n  }\n\n  return (\n    <Link to={`/details/${id}`} className=\"pet\">\n      <div className=\"image-container\">\n        <img src={hero} alt={name} />\n      </div>\n      <div className=\"info\">\n        <h1>{name}</h1>\n        <h2>{`${animal} — ${breed} — ${location}`}</h2>\n      </div>\n    </Link>\n  );\n};\n\nexport default Pet;\n","import Pet from \"./Pet\";\n\nconst Results = ({ pets }) => {\n  return (\n    <div className=\"search\">\n      {!pets.length ? (\n        <h1>No Pets Found</h1>\n      ) : (\n        pets.map((pet) => {\n          return (\n            <Pet\n              animal={pet.animal}\n              key={pet.id}\n              name={pet.name}\n              breed={pet.breed}\n              images={pet.images}\n              location={`${pet.city}, ${pet.state}`}\n              id={pet.id}\n            />\n          );\n        })\n      )}\n    </div>\n  );\n};\n\nexport default Results;\n","import { useState, useEffect, useContext } from \"react\";\nimport ThemeContext from \"./ThemeContext\";\nimport useBreedList from \"./useBreedList\";\nimport Results from \"./Results\";\n\nconst ANIMALS = [\"bird\", \"cat\", \"dog\", \"rabbit\", \"reptile\"];\n\nconst SearchParams = () => {\n  const [animal, updateAnimal] = useState(\"\");\n  const [location, updateLocation] = useState(\"\");\n  const [breed, updateBreed] = useState(\"\");\n  const [pets, setPets] = useState([]);\n  const [breeds] = useBreedList(animal);\n  const [theme, setTheme] = useContext(ThemeContext);\n\n  useEffect(() => {\n    requestPets();\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  async function requestPets() {\n    const res = await fetch(\n      `http://pets-v2.dev-apis.com/pets?animal=${animal}&location=${location}&breed=${breed}`\n    );\n    const json = await res.json();\n\n    setPets(json.pets);\n  }\n\n  return (\n    <div className=\"search-params\">\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          requestPets();\n        }}\n      >\n        <label htmlFor=\"location\">\n          Location\n          <input\n            id=\"location\"\n            value={location}\n            placeholder=\"Location\"\n            onChange={(e) => updateLocation(e.target.value)}\n          />\n        </label>\n        <label htmlFor=\"animal\">\n          Animal\n          <select\n            id=\"animal\"\n            value={animal}\n            onChange={(e) => updateAnimal(e.target.value)}\n            onBlur={(e) => updateAnimal(e.target.value)}\n          >\n            <option />\n            {ANIMALS.map((animal) => (\n              <option key={animal} value={animal}>\n                {animal}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label htmlFor=\"breed\">\n          Breed\n          <select\n            disabled={!breeds.length}\n            id=\"breed\"\n            value={breed}\n            onChange={(e) => updateBreed(e.target.value)}\n            onBlur={(e) => updateBreed(e.target.value)}\n          >\n            <option />\n            {breeds.map((breed) => (\n              <option key={breed} value={breed}>\n                {breed}\n              </option>\n            ))}\n          </select>\n        </label>\n        <label htmlFor=\"theme\">\n          Theme\n          <select\n            value={theme}\n            onChange={(e) => setTheme(e.target.value)}\n            onBlur={(e) => setTheme(e.target.value)}\n          >\n            <option value=\"peru\">Peru</option>\n            <option value=\"darkblue\">Dark Blue</option>\n            <option value=\"chartreuse\">Chartreuse</option>\n            <option value=\"mediumorchid\">Medium Orchid</option>\n          </select>\n        </label>\n        <button style={{ backgroundColor: theme }}>Submit</button>\n      </form>\n      <Results pets={pets} />\n    </div>\n  );\n};\n\nexport default SearchParams;\n","import { useState, StrictMode } from \"react\";\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport Details from \"./Details\";\nimport SearchParams from \"./SearchParams\";\nimport ThemeContext from \"./ThemeContext\";\n\nconst App = () => {\n  const theme = useState(\"darkblue\");\n  return (\n    <StrictMode>\n      <ThemeContext.Provider value={theme}>\n        <div>\n          <header>\n            <Link to=\"/\">Adopt Me!</Link>\n          </header>\n          <Switch>\n            <Route path=\"/details/:id\">\n              <Details />\n            </Route>\n            <Route path=\"/\">\n              <SearchParams />\n            </Route>\n          </Switch>\n        </div>\n      </ThemeContext.Provider>\n    </StrictMode>\n  );\n};\n\nexport default App;\n","import express from \"express\";\r\nimport { renderToNodeStream } from \"react-dom/server\";\r\nimport { StaticRouter } from \"react-router-dom\";\r\nimport fs from \"fs\";\r\nimport App from \"../src/App\";\r\n\r\nconst PORT = process.env.PORT || 3000;\r\n\r\nconst html = fs.readFileSync(\"dist/index.html\").toString();\r\n\r\nconst parts = html.split(\"not rendered\");\r\n\r\nconst app = express();\r\n\r\napp.use(\"/dist\", express.static(\"dist\"));\r\napp.use((req, res) => {\r\n  res.write(parts[0]);\r\n  const staticContext = {};\r\n  const reactMarkup = (\r\n    <StaticRouter url={req.url} context={staticContext}>\r\n      <App />\r\n    </StaticRouter>\r\n  );\r\n\r\n  const stream = renderToNodeStream(reactMarkup);\r\n  stream.pipe(res, { end: false });\r\n  stream.on(\"end\", () => {\r\n    res.status(staticContext.staticCode || 200);\r\n    res.write(parts[1]);\r\n    res.end();\r\n  });\r\n});\r\n\r\nconsole.log(`listening on http://localhost:${PORT}`);\r\napp.listen(PORT);\r\n"]}